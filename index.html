<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>提示</title>

<!-- Facebook Pixel（你自己换 ID） -->
<script>
!function(f,b,e,v,n,t,s){
if(f.fbq)return;n=f.fbq=function(){
n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)
}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init','YOUR_PIXEL_ID');
fbq('track','PageView');
</script>

<link rel="stylesheet" href="./style/CN/s01/css/main.css">
<link rel="stylesheet" href="./style/CN/s01/css/style.css">
</head>

<body>

<div id="app" class="page">

  <!-- 背景滚动层 -->
  <div class="bg-scroll"></div>

  <!-- 灰色遮罩 -->
  <div class="mask"></div>

  <!-- 前景卡片 -->
  <transition name="fade-slide" mode="out-in">
    <div class="card" v-if="step===0">
      <h1>温馨提醒</h1>
      <p class="sub">
        你即将看到当地寻找约会或兼职的女孩，
        您能否保证不泄露女孩隐私？
      </p>
      <p class="sub small">
        约会之前，我们需要问几个简短问题？
      </p>
      <div class="btn-group center">
        <button class="btn agree" @click="next">好的</button>
        <button class="btn refuse" @click="next">拒绝</button>
      </div>
    </div>
  </transition>

</div>

  <!-- 问答页 -->
  <transition name="fade-slide" mode="out-in">
    <div class="card" v-if="step>=1 && step<=4" :key="step">
      <h1>{{ questions[step-1] }}</h1>
      <div class="btn-group">
        <button class="btn agree" @click="next">同意</button>
        <button class="btn refuse" @click="next">不同意</button>
      </div>
    </div>
  </transition>

  <!-- 加载 -->
  <transition name="fade-slide" mode="out-in">
    <div class="card" v-if="step===5" key="loading">
      <h1>加载中...</h1>
      <div class="progress">
        <div class="bar" :style="{width: progress + '%'}"></div>
      </div>
    </div>
  </transition>

</div>

<!-- 防封跳转 -->
<script src="./c/sqsf.js"></script>

<!-- Vue -->
<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

<script>
const { createApp } = Vue;

createApp({
  data(){
    return{
      step:0,
      progress:0,
      questions:[
        '你是否同意继续？',
        '是否已满 25 岁？',
        '是否接受相关条款？',
        '是否确认进入下一步？'
      ]
    }
  },
  methods:{
    next(){
      this.step++;
      if(this.step===5){
        this.startLoading();
      }
    },
    startLoading(){
      const t = setInterval(()=>{
        this.progress += 8;
        if(this.progress>=100){
          clearInterval(t);
          this.go();
        }
      },120);
    },
    go(){
      if(typeof fbq==='function'){
        fbq('track','Lead');
      }
      location.href = window.SQSF_TARGET || '#';
    }
  }
}).mount('#app');
</script>

</body>
</html>
